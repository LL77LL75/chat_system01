<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chat Room</title>

    <link rel="stylesheet" href="style.css">

    <script type="module" src="firebase-config.js"></script>
    <script type="module" src="chat.js"></script>
    <script type="module" src="app.js"></script>
</head>
<body>

<div class="chat-container">

    <!-- Top Control Bar -->
    <div class="chat-top-bar">
        <button class="button-link" onclick="window.__ACC_POP()">Account</button>
        <button class="button-link" onclick="window.__SHOP()">Shop</button>
        <button class="button-link" onclick="window.__AUC()">Auctions</button>
        <button class="button-link" onclick="window.__LV_RM()">Leave</button>
    </div>

    <!-- Message Container -->
    <div id="messages" class="message-list"></div>

    <!-- Message Form -->
    <form id="chat-form" onsubmit="event.preventDefault(); window.__S_MSG();">
        <input id="msg-in" type="text" placeholder="Type your message..." required>
        <button type="submit">Send</button>
    </form>

</div>


<!-- ACCOUNT POPUP -->
<div id="account-popup" class="popup-overlay" style="display:none;">
    <div class="popup">
        <h3>Account Settings</h3>

        <label>Display Name:</label>
        <input id="acc-displayname" type="text">

        <label>Equipped Title:</label>
        <select id="acc-title"></select>

        <label>Password:</label>
        <input id="acc-pass" type="password">

        <!-- Username change only for Core/Pioneer -->
        <div id="acc-username-section" style="display:none;">
            <label>Username:</label>
            <input id="acc-username" type="text">
        </div>

        <button onclick="window.__SV_ACC()">Save</button>
        <button onclick="window.__CL_ACC()">Close</button>
    </div>
</div>


<!-- SHOP POPUP -->
<div id="shop-popup" class="popup-overlay" style="display:none;">
    <div class="popup">
        <h3>Titles Shop</h3>
        <div id="shop-list"></div>
        <button onclick="window.__CL_SHOP()">Close</button>
    </div>
</div>


<!-- AUCTIONS POPUP -->
<div id="auction-popup" class="popup-overlay" style="display:none;">
    <div class="popup">
        <h3>Auctions</h3>
        <div id="auction-list"></div>
        <button onclick="window.__CL_AUC()">Close</button>
    </div>
</div>

</body>
</html>
