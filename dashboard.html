<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chat App â€“ Dashboard</title>
    <link rel="stylesheet" href="style.css">

    <!-- Firebase -->
    <script type="module" src="firebase-config.js"></script>

    <!-- App logic -->
    <script type="module" src="app.js"></script>

    <!-- Dashboard/Room logic -->
    <script type="module" src="chat.js"></script>

    <style>
        .dashboard-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            padding: 20px;
        }

        .panel {
            background-color: #fff;
            padding: 15px;
            border-radius: 8px;
            margin: 10px;
            width: 320px;
            box-shadow: 0 0 10px #ccc;
        }

        .room-btn {
            display: inline-block;
            margin: 4px 4px 4px 0;
            padding: 6px 12px;
            background-color: #2196F3;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            cursor: pointer;
        }

        .room-btn:hover {
            background-color: #0b7dda;
        }

        .button-link {
            display: inline-block;
            padding: 8px 16px;
            margin: 5px 0;
            background-color: #4CAF50;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .button-link:hover {
            background-color: #45a049;
        }

        #roomMembers {
            margin-top: 10px;
        }

        #adminControls a {
            display: block;
            margin: 3px 0;
        }
    </style>
</head>

<body>

<div class="dashboard-container">

    <!-- Account Panel -->
    <div class="panel">
        <h3>Account</h3>
        <button class="button-link" onclick="window._accPop()">Settings</button>
        <button class="button-link" onclick="window._LOGOUT()">Logout</button>

        <!-- Core/Pioneer create accounts -->
        <div id="createAccountBtns" style="margin-top:10px;"></div>
    </div>

    <!-- Rooms Panel -->
    <div class="panel">
        <h3>Rooms</h3>
        <div id="roomList"></div>

        <div id="roomMembers">
            <h4>Room Members</h4>
            <ul id="memberList"></ul>

            <h4 id="bannedTitle" style="display:none;">Banned Users</h4>
            <ul id="bannedList"></ul>

            <h4 id="mutedTitle" style="display:none;">Muted Users</h4>
            <ul id="mutedList"></ul>
        </div>
    </div>

    <!-- Admin Controls -->
    <div class="panel" id="adminControls">
        <h3>Admin Panel</h3>
        <a href="#" onclick="window._CREATE_ROOM(prompt('Enter room code'))">Create Room</a>
        <a href="#" onclick="window._DELETE_ROOM(prompt('Enter room code'))">Delete Room</a>
    </div>

</div>

<script>
    // room buttons and member panel updating handled by chat.js
    // Only admin+ can see banned/muted users with levels/scope
    // Clicking a room updates member panel without navigating
</script>

</body>
</html>
